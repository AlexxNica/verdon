#!/usr/bin/env node

/* jshint esversion: 6, node: true */

'use strict';

const verdon = require('../lib');
const commander = require('commander');

const cmd = new commander.Command()
  .description(`Emit a request

  This command will send a message to a remote service listening at <url>. If
  no <request> is specified, it will be read from standard in.`)
  .arguments('<url> <message> [<request>]')
  .option('-p, --protocol <path>', 'path to local protocol')
  .option('-t, --transport <path>', 'path to transport module')
  .action(function (url, msg, req) {
    console.log(url);
    console.log(msg);
    console.log(req);
    console.log(this.protocol);
  });

module.exports = verdon.runIfMain(cmd, module);
